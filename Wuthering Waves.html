<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wuthering Waves - WawePlay</title>
<link rel="icon" type="image/png" href="1main/logo2.png">
<link rel="stylesheet" href="css.css">
    </head>
<body>

    <header class="header">
        <div class="header-container">
            <img src="1main/logo.png" alt="Логотип WawePlay" class="headerlogo">
            <nav class="center-nav">
                <a href="#review-form-section" class="header-link-text">Чи був наш сервіс для вас корисним? Залишіть відгук!</a>
            </nav>
            <button class="cart-button">
                <img src="1main/cart.png" alt="Іконка кошика">
            </button>
        </div>
    </header>
    <main class="container">
        <div class="game-header-section">
            <div class="game-header-row">
                <a href="index.html" class="back-button">Назад</a>
                <div class="title-and-rating">
                    <h1 class="game-title">Wuthering Waves</h1>
                    <div class="game-rating">
                        <img src="1main/4.6.png" alt="Рейтинг 4.6" style="width: 159px; height: 27px;">
                        <span>4.6</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="game-page-container">
            <div class="left-column">
                <div class="game-genres">
                    <div class="genre-item">
                        <img src="1main/beginers.png" alt="Іконка налаштування">
                        Добре підходить новачкам
                    </div>
                    <div class="genre-item">
                        <img src="1main/boss.png" alt="Іконка боса">
                        Чудові битви з босами
                    </div>
                </div>
                <h3 class="game-overview-heading">Огляд</h3>
                <div class="main-media-container active">
    <img src="Games/Wuthering Waves/img1.jpg" alt="Wuthering Waves головне зображення" id="main-image" class="main-media active">
    <video src="Games/Wuthering Waves/video.mp4" id="main-video" class="main-media" controls poster="Games/Wuthering Waves/video_preview.jpg"></video>
</div>

<div class="gallery">
    <div class="gallery-item active" data-src="Games/Wuthering Waves/img1.jpg" data-type="image">
        <img src="Games/Wuthering Waves/img1.jpg" alt="Галерея 1">
    </div>
    <div class="gallery-item" data-src="Games/Wuthering Waves/img2.jpg" data-type="image">
        <img src="Games/Wuthering Waves/img2.jpg" alt="Галерея 2">
    </div>
    <div class="gallery-item" data-src="Games/Wuthering Waves/img3.jpg" data-type="image">
        <img src="Games/Wuthering Waves/img3.jpg" alt="Галерея 3">
    </div>
    <div class="gallery-item" data-src="Games/Wuthering Waves/video.mp4" data-type="video">
        <img src="Games/Wuthering Waves/video_preview.jpg" alt="Трейлер">
    </div>
</div>

                <div class="description">
                    <p>
                        Wuthering Waves – це сюжетний рольовий екшен із відкритим світом, де вам дається неймовірна свобода. Ви граєте за Ровера, який прокидається від довгого сну і разом з яскравою командою Резонаторів вирушає в подорож, щоб повернути втрачені спогади та перемогти Плач.
                    </p>
                </div>

                <div class="genres-section">
                    <h2>Жанри</h2>
                    <div class="tag-list">
                        <span>Рольові ігри</span>
                        <span>
Пригодницький бойовик</span>
                        <span>Відкритий світ</span>
                       
                    </div>
                </div>

                <div class="features-section">
                    <h2>Особливості</h2>
                    <div class="tag-list">
                        <span>Мережевий мультиплеєр</span>
                       <span>Підтримка геймпаду</span>
<span>Кооперативна</span>
                    </div>
                </div>

                <div class="description">
                    <h3 class="game-description">Wuthering Waves</h3>
                    <p>
                        Ласкаво просимо на борт, мандрівник!
Хвилі заливають тихо тліючі вугілля світу, що колись стояв на березі.
Створення та жителі світу нерухомі серед пустелі, залишеної Плачем.
Але найсильнішим із них вдається дати відсіч безмовності.
Людство знову повстало з попелу.
І на тебе, Ровер, чекає захоплююче Пробудження (Awakening).
Ти зустрінеш нових друзів і воюєш з ворогами, здобудеш нові сили і пізнаєш нову істину, ти станеш свідком небачених подій... Попереду цілий світ безмежних можливостей. Вибір за тобою. Знайди свою відповідь, стань лідером і йди за звуками, щоб знайти нове майбутнє.
Людство вирушить у нову подорож під шум Грозових хвиль.
Повстань і почни свою одіссею, Ровере.
                    </p>
                </div>
            </div>

            <div class="right-column-container">
                <div class="right-column">
                    <div class="game-details">
                        <img src="Games/Wuthering Waves/game_logo.jpg" alt="Логотип Wuthering Waves">
                       <button class="add-to-wishlist-button">Додати до списку бажаного</button>
                        <ul class="info-list">
                            <li><strong>Розробник</strong> <a href="https://wutheringwaves.kurogames.com/en/main/" target="_blank">KURO GAMES</a></li>
                            <li><strong>Видавець</strong> <a href="https://wutheringwaves.kurogames.com/en/main/" target="_blank">KURO GAMES</a></li>
                            <li><strong>Дата випуску</strong> 23/05/24</li>
                            <li><strong>Платформи</strong>
                                <ul>
                                    <li>Windows</li>
                                    
                                </ul>
                            </li>
                            <li><strong>Доступні мови</strong>:китайська (традиційна), англійська,  японська,  китайська (спрощена),  корейська, російська </li>
                        </ul>
                    </div>
                </div>
                <a href="https://download.kurogames.net/transfer/mc_WnGtDn85y8lJB4mTmYHYuNjIl9n6YGVm/official/global/en/pc_app" class="store-link" target="_blank">
                    <div class="store-item">
                        <div class="store-info">
                            <img src="1main/wuwa.png" alt="Wuthering Waves" class="store-logo epic">
                            <span class="store-name">Wuthering Waves</span>
                        </div>
                        <div class="epic-price-group">
                            
                            <div class="price-details-stack">
                                
                                <span class="price">Встановити</span>
                            </div>
                        </div>
                    </div>
                </a>
                
            </div>
        </div>

        <div class="reviews-section">
            <h2>Відгуки</h2>
            <div class="review-form-container" id="review-form-section">
                <h3>Написати відгук</h3>
                <form id="review-form">
                    <div class="form-group">
                        <label for="username">Ім'я користувача</label>
                        <input type="text" id="username" name="username" required maxlength="50">
                    </div>
                    <div class="form-group">
                        <label for="review-text">Ваш відгук</label>
                        <textarea id="review-text" name="review-text" rows="5" required maxlength="500"></textarea>
                    </div>

                    <div class="form-group">
                        <label>Оцінка</label>
                        <div class="rating">
                            <span class="star" data-value="1">★</span>
                            <span class="star" data-value="2">★</span>
                            <span class="star" data-value="3">★</span>
                            <span class="star" data-value="4">★</span>
                            <span class="star" data-value="5">★</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="button" class="avatar-popup-btn" style="background-color: #32E0E0; color: #fff; border-color: #32E0E0;">Ким ви себе почуваєте сьогодні?</button>
                        <div class="avatar-popup-content">
                            <div class="avatar-selection-grid">
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/bear.png" required>
                                    <img src="Ani/bear.png" alt="Ведмідь">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/bear1.png">
                                    <img src="Ani/bear1.png" alt="Ведмідь1">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/beaver.png">
                                    <img src="Ani/beaver.png" alt="Бобер">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/cat.png">
                                    <img src="Ani/cat.png" alt="Кіт">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/chicken.png">
                                    <img src="Ani/chicken.png" alt="Курка">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/cow.png">
                                    <img src="Ani/cow.png" alt="Корова">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/dog.png">
                                    <img src="Ani/dog.png" alt="Собака">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/dog1.png">
                                    <img src="Ani/dog1.png" alt="Собака1">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/dog2.png">
                                    <img src="Ani/dog2.png" alt="Собака2">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/dragon.png">
                                    <img src="Ani/dragon.png" alt="Дракон">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/duck.png">
                                    <img src="Ani/duck.png" alt="Качка">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/frog.png">
                                    <img src="Ani/frog.png" alt="Жаба">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/giraffe.png">
                                    <img src="Ani/giraffe.png" alt="Жирафа">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/gorilla.png">
                                    <img src="Ani/gorilla.png" alt="Горила">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/hen.png">
                                    <img src="Ani/hen.png" alt="Курка">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/hippopotamus.png">
                                    <img src="Ani/hippopotamus.png" alt="Бегемот">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/horse.png">
                                    <img src="Ani/horse.png" alt="Кінь">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/koala.png">
                                    <img src="Ani/koala.png" alt="Коала">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/lion.png">
                                    <img src="Ani/lion.png" alt="Лев">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/meerkat.png">
                                    <img src="Ani/meerkat.png" alt="Сурикат">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/monkey.png">
                                    <img src="Ani/monkey.png" alt="Мавпа">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/owl.png">
                                    <img src="Ani/owl.png" alt="Сова">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/panda.png">
                                    <img src="Ani/panda.png" alt="Панда">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/penguin.png">
                                    <img src="Ani/penguin.png" alt="Пінгвін">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/puffer-fish.png">
                                    <img src="Ani/puffer-fish.png" alt="Риба-фугу">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/rabbit.png">
                                    <img src="Ani/rabbit.png" alt="Кролик">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/sea-lion.png">
                                    <img src="Ani/sea-lion.png" alt="Морський лев">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/shark.png">
                                    <img src="Ani/shark.png" alt="Акула">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/sloth.png">
                                    <img src="Ani/sloth.png" alt="Лінивець">
                                </label>
                                <label class="avatar-option">
                                    <input type="radio" name="avatar-select" value="Ani/tiger.png">
                                    <img src="Ani/tiger.png" alt="Тигр">
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Виберіть колір рамки</label>
                        <div class="color-selection-container">
                            <div class="color-btn" data-color="#32E0E0" style="background-color: #32E0E0;"></div>
                            <div class="color-btn" data-color="#65b1fc" style="background-color: #65b1fc;"></div>
                            <div class="color-btn" data-color="#0053bf" style="background-color: #0053bf;"></div>
                            <div class="color-btn" data-color="#cccccc" style="background-color: #cccccc;"></div>
                            <div class="color-btn" data-color="#09ce67" style="background-color: #09ce67;"></div>
                            <div class="color-btn" data-color="#a3d4ff" style="background-color: #a3d4ff;"></div>
                            <div class="color-btn" data-color="#fd6814" style="background-color: #fd6814;"></div>
                            <div class="color-btn" data-color="#853bcc" style="background-color: #853bcc;"></div>
                            <div class="color-btn" data-color="#b75c34" style="background-color: #b75c34;"></div>
                            <div class="color-btn" data-color="#7fbb1b" style="background-color: #7fbb1b;"></div>
                            <div class="color-btn" data-color="#f5cf33" style="background-color: #f5cf33;"></div>
                            <div class="color-btn" data-color="#f92814" style="background-color: #f92814;"></div>
                        </div>
                    </div>
                    <button type="submit" class="submit-review-btn">Надіслати відгук</button>
                </form>
            </div>

            <div class="existing-reviews-container">
                </div>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-container">
            <img src="1main/logo2.png" alt="WawePlay Logo 2" class="footer-logo logo-main">
            <div class="footer-text">
                <p>                             © 2025 WawePlay Corporation. Усі права захищено. Усі торговельні марки є власністю відповідних власників у США
 та інших країнах.
Усі ціни вказані з урахуванням ПДВ (за потреби). </p>
            </div>
            <img src="1main/logo.png" alt="WawePlay Logo" class="footer-logo logo-secondary">
        </div>
    </footer>

    <script>
document.addEventListener('DOMContentLoaded', () => {
    // JavaScript для розділу "Огляд гри"
    const galleryItems = document.querySelectorAll('.gallery-item');
    const mainMediaContainer = document.querySelector('.main-media-container');
    const mainMedia = document.querySelectorAll('.main-media');
    const mainImage = document.getElementById('main-image');
    const mainVideo = document.getElementById('main-video');

    // JavaScript для розділу "Відгуки"
    const reviewForm = document.getElementById('review-form');
    const reviewContainer = document.querySelector('.existing-reviews-container');
    const ratingStars = document.querySelectorAll('.review-form-container .rating .star');
    const avatarPopupBtn = document.querySelector('.avatar-popup-btn');
    const avatarPopupContent = document.querySelector('.avatar-popup-content');
    const colorButtons = document.querySelectorAll('.color-btn');
    let selectedRating = 0;
    let selectedBorderColor = '#32E0E0';
    let reviews = [];

    // JavaScript для списку бажаного
    const wishlistPopup = document.querySelector('.wishlist-popup');
    const closePopupBtn = document.querySelector('.wishlist-popup .close-btn');
    const cartButton = document.querySelector('.cart-button');
    const wishlistItemsContainer = document.getElementById('wishlist-items');
    const notification = document.getElementById('notification-popup');
    const addToWishlistBtn = document.querySelector('.add-to-wishlist-button');
    const clearWishlistBtn = document.getElementById('clear-wishlist-btn');

    // Бд для зв'язку назв ігор із зображеннями
     const gameImageMap = {
        "Cyberpunk 2077": "1main/cyberpunk.jpg",
                "Red Dead Redemption 2": "1main/rdr2.jpg",
                "The Witcher 3": "1main/witcher3.jpg",
                "Grand Theft Auto V Enhanced": "1main/Grand Theft Auto V Enhanced.jpg",
                "Hogwarts Legacy": "1main/hogwarts.jpg",
                "Apex Legends": "1main/apex.jpg",
                "Borderlands 3": "1main/borderlands3.jpg",
                "Destiny 2": "1main/destiny.jpg",
                "Path of Exile": "1main/exile.jpg",
                "Fortnite": "1main/fortnite.jpg",
                "Genshin Impact": "1main/genshin.jpg",
                "Ghostrunner 2": "1main/Ghostrunner 2.jpg",
                "Horizon Zero Dawn™ Remastered": "1main/horizon.jpg",
                "League of Legends": "1main/lol.jpg",
                "MechWarrior 5": "1main/mechWarior.jpg",
                "Monument Valley II": "1main/monument.jpg",
                "The Battle of Polytopia": "1main/polytopia.jpg",
                "Marvel's Spider-Man 2": "1main/spider2.jpg",
                "The Division 2 Gold Edition": "1main/The Division 2 Gold Edition.jpg",
                "Valorant": "1main/valorant.jpg",
                "Wuthering Waves": "1main/wuwa.jpg",
                "Zenless Zone Zero": "1main/zzz.jpg",
                "Project Winter": "1main/Project Winter.jpg",
                "Samorost 2": "1main/Samorost 2.jpg",
                "Jorels Brother and The Most Important Game of the Galaxy": "1main/jorels.jpg"
};



    let wishlist = [];

    // Функція для збереження списку бажаного в локальне сховище
    function saveWishlist() {
        localStorage.setItem('wishlist', JSON.stringify(wishlist));
    }

    // Функція для завантаження списку бажаного з локального сховища
    function loadWishlist() {
        const storedWishlist = localStorage.getItem('wishlist');
        if (storedWishlist) {
            try {
                wishlist = JSON.parse(storedWishlist);
            } catch (e) {
                console.error("Помилка при завантаженні списку бажаного з localStorage", e);
                wishlist = [];
            }
        }
    }

    // Функція для оновлення відображення списку бажаного
    function updateWishlistDisplay() {
        wishlistItemsContainer.innerHTML = '';
        if (wishlist.length === 0) {
            wishlistItemsContainer.innerHTML = '<p class="empty-wishlist-message">Ваш список бажаного порожній.</p>';
            return;
        }

        wishlist.forEach(gameName => {
            const imageFileName = gameImageMap[gameName] || '1main/default.jpg';
            const imagePath = imageFileName;
            
            const wishlistItem = document.createElement('div');
            wishlistItem.classList.add('wishlist-item');
            wishlistItem.innerHTML = `
                <img src="${imagePath}" alt="${gameName}">
                <div class="wishlist-item-details">
                    <h3>${gameName}</h3>
                </div>
                <button class="delete-btn" data-name="${gameName}">&times;</button>
            `;
            wishlistItemsContainer.appendChild(wishlistItem);
        });
    }

    // Функція для додавання гри до списку бажаного
    function addGameToWishlist(gameName) {
        const gameExists = wishlist.includes(gameName);
        if (!gameExists) {
            wishlist.push(gameName);
            saveWishlist();
            showNotification(`Додано до списку бажаного: ${gameName}`);
        } else {
            showNotification(`Гра "${gameName}" вже у списку.`);
        }
        updateWishlistDisplay();
    }

    // Функція для видалення гри зі списку бажаного
    function removeGameFromWishlist(gameName) {
        wishlist = wishlist.filter(name => name !== gameName);
        saveWishlist();
        updateWishlistDisplay();
    }
    
    // Функція для очищення списку бажаного
    function clearWishlist() {
        wishlist = [];
        saveWishlist();
        updateWishlistDisplay();
        showNotification("Список бажаного очищено!");
    }

    // Функція для відображення повідомлення
    function showNotification(message) {
        notification.textContent = message;
        notification.classList.add('show');
        setTimeout(() => {
            notification.classList.remove('show');
        }, 3000);
    }
    
    // Обробники подій для кнопок
    cartButton.addEventListener('click', () => {
        wishlistPopup.classList.add('open');
        updateWishlistDisplay();
    });

    closePopupBtn.addEventListener('click', () => {
        wishlistPopup.classList.remove('open');
    });
    
    wishlistItemsContainer.addEventListener('click', (event) => {
        if (event.target.classList.contains('delete-btn')) {
            const gameName = event.target.dataset.name;
            removeGameFromWishlist(gameName);
        }
    });

    // Новий обробник для кнопки очищення списку
    if (clearWishlistBtn) {
        clearWishlistBtn.addEventListener('click', clearWishlist);
    }

    // Обробник для кнопки "Додати до списку бажаного" на цій сторінці
    addToWishlistBtn.addEventListener('click', () => {
        const gameTitle = document.querySelector('.game-title').textContent;
        addGameToWishlist(gameTitle);
    });

    // Завантажуємо дані при першому завантаженні сторінки
    loadWishlist();
    updateWishlistDisplay();

    // Існуюча логіка для галереї
    galleryItems.forEach(item => {
        item.addEventListener('click', () => {
            galleryItems.forEach(el => el.classList.remove('active'));
            item.classList.add('active');
            mainMediaContainer.classList.add('active');

            const mediaSrc = item.getAttribute('data-src');
            const mediaType = item.getAttribute('data-type');

            mainMedia.forEach(el => {
                el.classList.remove('active');
            });

            if (mediaType === 'video') {
                mainVideo.src = mediaSrc;
                mainVideo.classList.add('active');
                mainVideo.load();
                mainVideo.play();
            } else {
                mainImage.src = mediaSrc;
                mainImage.classList.add('active');
                mainVideo.pause();
                mainVideo.currentTime = 0;
            }
        });
    });

    // Існуюча логіка для відгуків
    ratingStars.forEach(star => {
        star.addEventListener('click', () => {
            selectedRating = star.dataset.value;
            ratingStars.forEach(s => s.classList.remove('active'));
            for (let i = 0; i < selectedRating; i++) {
                ratingStars[i].classList.add('active');
            }
        });
    });

    colorButtons.forEach(button => {
        button.addEventListener('click', () => {
            colorButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            selectedBorderColor = button.dataset.color;
        });
    });
    const defaultColorBtn = document.querySelector(`.color-btn[data-color="${selectedBorderColor}"]`);
    if (defaultColorBtn) {
        defaultColorBtn.classList.add('active');
    }

    avatarPopupBtn.addEventListener('click', () => {
        avatarPopupContent.classList.toggle('visible');
    });

    // Функція для створення картки відгуку та додавання її до DOM
    const createReviewCard = (reviewData, prepend = true) => {
        const newReviewCard = document.createElement('div');
        newReviewCard.className = 'review-card';
        newReviewCard.style.setProperty('--review-border-color', reviewData.borderColor);

        // Виправлений блок: створюємо рядок зірок на основі reviewData.rating
        let starsHtml = '';
        for (let i = 1; i <= 5; i++) {
            // Додаємо клас 'active' тільки до тих зірок, чий номер <= рейтингу відгуку
            starsHtml += `<span class="star${i <= reviewData.rating ? ' active' : ''}">★</span>`;
        }

        newReviewCard.innerHTML = `
            <div class="review-header">
                <span class="review-avatar">
                    <img src="${reviewData.avatarSrc}" alt="Аватар користувача">
                </span>
                <div class="review-info">
                    <div class="review-user-and-date">
                        <span class="review-username">${reviewData.username}</span>
                        <span class="review-date">${reviewData.date}</span>
                    </div>
                    <div class="review-rating">
                        ${starsHtml}
                    </div>
                </div>
            </div>
            <p class="review-content">${reviewData.reviewText}</p>
        `;
        if (prepend) {
            reviewContainer.prepend(newReviewCard);
        } else {
            reviewContainer.appendChild(newReviewCard);
        }
    };
    
    // Функція для завантаження відгуків з localStorage
    function loadReviews() {
        const storedReviews = localStorage.getItem('gameReviews');
        if (storedReviews) {
            try {
                reviews = JSON.parse(storedReviews);
            } catch (e) {
                console.error("Помилка при завантаженні відгуків з localStorage", e);
                reviews = [];
            }
        }
        // Завантажуємо нові відгуки, якщо локальне сховище порожнє або пошкоджене
        if (!reviews || reviews.length === 0) {
             reviews = [
                { username: "GameLover", reviewText: "Відмінна сервіс, користуюсь вже довго. Всім раджу!", rating: 5, avatarSrc: "Ani/penguin.png", borderColor: "#09ce67", date: "2025-09-16" },
                { username: "V-Player", reviewText: "Світ ігор неймовірно зачаровує. Відчуваєш себе частиною цих світів.", rating: 4, avatarSrc: "Ani/puffer-fish.png", borderColor: "#f92814", date: "2025-09-16" },
                { username: "TechGuru", reviewText: "Оптимізація жахлива! Інтерфейс такос. Мені взагалі не подобається!", rating: 1, avatarSrc: "Ani/shark.png", borderColor: "#0053bf", date: "2025-09-16" }
            ];

            // Зберігаємо їх, щоб у майбутньому вони завантажувалися з localStorage
            saveReviews();
        }
        reviews.forEach(review => createReviewCard(review, false));
    }

    // Функція для збереження відгуків у localStorage
    function saveReviews() {
        localStorage.setItem('gameReviews', JSON.stringify(reviews));
    }
    
    // Обробник відправки форми
    reviewForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const username = document.getElementById('username').value;
        const reviewText = document.getElementById('review-text').value;
        const selectedAvatar = document.querySelector('input[name="avatar-select"]:checked');

        if (username && reviewText && selectedRating > 0 && selectedAvatar) {
            const avatarSrc = selectedAvatar.value;
            const today = new Date();
            const yyyy = today.getFullYear();
            const mm = String(today.getMonth() + 1).padStart(2, '0');
            const dd = String(today.getDate()).padStart(2, '0');
            const dateString = `${yyyy}-${mm}-${dd}`;
            const newReview = {
                username,
                reviewText,
                rating: selectedRating,
                avatarSrc,
                borderColor: selectedBorderColor,
                date: dateString
            };

            // Додаємо новий відгук на початок масиву
            reviews.unshift(newReview);
            saveReviews();
            
            // Створюємо картку відгуку і додаємо її в DOM
            createReviewCard(newReview);

            reviewForm.reset();
            selectedRating = 0;
            ratingStars.forEach(s => s.classList.remove('active'));
            const selectedAvatarImg = document.querySelector('.avatar-option input[name="avatar-select"]:checked + img');
            if (selectedAvatarImg) {
                selectedAvatarImg.style.borderColor = 'transparent';
                selectedAvatar.checked = false;
            }
            avatarPopupContent.classList.remove('visible');
            colorButtons.forEach(btn => btn.classList.remove('active'));
            selectedBorderColor = '#32E0E0';
            const defaultColorBtn = document.querySelector(`.color-btn[data-color="${selectedBorderColor}"]`);
            if (defaultColorBtn) {
                defaultColorBtn.classList.add('active');
            }

        } else {
            alert('Будь ласка, заповніть всі поля, виберіть оцінку та аватар.');
        }
    });

    const allAvatarOptions = document.querySelectorAll('.avatar-option');
    allAvatarOptions.forEach(option => {
        option.addEventListener('change', (event) => {
            allAvatarOptions.forEach(opt => {
                opt.querySelector('img').style.borderColor = 'transparent';
            });
            if (event.target.checked) {
                event.target.nextElementSibling.style.borderColor = '#32E0E0';
            }
        });
    });
    
    // Завантажуємо відгуки при завантаженні сторінки
    loadReviews();
});
</script>






<aside class="wishlist-popup">
    <button class="close-btn">&times;</button>
    <h2>Список бажаного</h2>
   <div id="wishlist-items">
            <p id="wishlist-empty-message" class="wishlist-empty-message">Ваш список бажаного порожній.</p>
        </div>
        <div class="wishlist-popup-buttons">
            
            <button id="clear-wishlist-btn" class="clear-wishlist-btn">Очистити список</button>
        </div>
</aside>

<div class="notification" id="notification-popup"></div>
</body>
</html>